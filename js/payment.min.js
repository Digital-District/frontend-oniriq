!function(t){var a="paymentForm",e=function(a,e){return this.$T=t(a),this._init(a,e),this.options=t.extend(!0,{DEBUG:!1},e),this};e.prototype._init=function(a,e){var r=this;r.number=this.$T.find("[data-payment='cc-number']"),r.exp=this.$T.find("[data-payment='cc-exp']"),r.cvc=this.$T.find("[data-payment='cc-cvc']"),r.brand=this.$T.find("[data-payment='cc-brand']"),r.number.payment("formatCardNumber").data("payment-error-message","Please enter a valid credit card number."),r.exp.payment("formatCardExpiry").data("payment-error-message","Please enter a valid expiration date."),r.cvc.payment("formatCardCVC").data("payment-error-message","Please enter a valid CVC."),r.number.on("input",(function(){r.cardType=t.payment.cardType(r.number.val());var a=r.number.closest(".form-group");a.toggleClass("has-feedback",!0),a.find(".form-control-feedback").remove(),r.cardType?r.brand.text(r.cardType):t("[data-payment='cc-brand']").text("")})),r.number.on("change",(function(){r._setValidationState(t(this),!t.payment.validateCardNumber(t(this).val()))})),r.exp.on("change",(function(){r._setValidationState(t(this),!t.payment.validateCardExpiry(t(this).payment("cardExpiryVal")))})),r.cvc.on("change",(function(){r._setValidationState(t(this),!t.payment.validateCardCVC(t(this).val(),r.cardType))}))},e.prototype.valid=function(){var a=this,e=t.payment.validateCardNumber(a.number.val()),r=t.payment.validateCardExpiry(a.exp.payment("cardExpiryVal")),n=t.payment.validateCardCVC(a.cvc.val(),a.cardType);return a._setValidationState(a.number,!e),a._setValidationState(a.exp,!r),a._setValidationState(a.cvc,!n),e&&r&&n},e.prototype._setValidationState=function(t,a){var e=t.parent();return e.toggleClass("has-error",a).toggleClass("has-success",!a),e.find(".payment-error-message").remove(),a&&e.append("<span class='text-danger payment-error-message'>"+t.data("payment-error-message")+"</span>"),this},e.prototype.DLOG=function(){if(this.DEBUG)for(var t in arguments);},e.prototype.DWARN=function(){this.DEBUG},t.fn[a]=function(r){if(!t(this).length)return t(this);var n=t(this).data(a);return n&&0!=r.indexOf("_")&&n[r]&&"function"==typeof n[r]?n[r](Array.prototype.slice.call(arguments,1)):"object"!=typeof r&&r?void(n?0==r.indexOf("_")?t.error("Method "+r+" is private!"):t.error("Method "+r+" does not exist."):t.error("Plugin must be initialised before using method: "+r)):(n=new e(t(this),r),t(this).data(a,n),t(this))}}(jQuery);var payment_form=$("#payment-stripe").paymentForm();$("#validate").on("click",(function(){return!!$("#payment-stripe").paymentForm("valid")&&(null==$("#validate").attr("data-href")||void(location.href=$("#validate").attr("data-href")))}));